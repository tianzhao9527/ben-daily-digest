# Ben's Daily Brief v3.0

智能新闻简报生成系统 - 支持去重、情感分析、GitHub自动同步

## ✨ v3.0 新功能

| 功能 | 描述 | 状态 |
|------|------|------|
| **新闻去重** | 同一事件多来源自动合并，附带所有链接 | ✅ |
| **情感分析** | 每板块看多/看空/中性评分，整体仪表盘 | ✅ |
| **热力图** | 8板块×7天新闻密度矩阵 | ✅ |
| **关键词词云** | 高频关键词可视化 | ✅ |
| **KPI增强** | MA5/MA20移动平均线，支撑/阻力位 | ✅ |
| **GitHub同步** | UI直接修改配置，一键同步，T+1生效 | ✅ |

## 🔄 新闻去重原理

```
原始新闻:
  - Reuters: "央行设定美元中间价为7.18"
  - Bloomberg: "PBOC sets yuan fixing at 7.18"  
  - 新华社: "人民币中间价报7.18元"

去重后:
  ├─ 主标题: 央行设定美元中间价为7.18
  └─ 来源: Reuters | Bloomberg | 新华社 (3个来源)
```

- 算法: Jaccard相似度 (阈值0.5)
- 位置: `dedupe_raw_items()` 函数

## 📊 情感分析

每个板块返回:
```json
{
  "sentiment": "positive",
  "sentiment_score": 0.72,
  "keywords": ["降息", "复苏", "增长"]
}
```

右侧面板显示:
- 🎯 情绪仪表盘 (指针式)
- 📈 看多/中性/看空 统计
- ☁️ 关键词词云

## 🔗 GitHub自动同步

### 使用方法
1. 在设置 → 同步 中输入仓库地址
2. 输入GitHub Token (需要repo权限)
3. 点击"同步配置到GitHub"
4. T+1 GitHub Action运行时生效

## 📈 数据面板

### 情绪面板
- **仪表盘**: 指针指向当前整体情绪
- **统计**: 各板块情感分布

### 指标面板
- **MA5**: 5日移动平均 (橙色)
- **MA20**: 20日移动平均 (紫色)
- **支撑/阻力**: 近20日高低点

### 热力图面板
- **颜色深度**: 新闻数量
- **去重统计**: 原始 vs 去重

## 🚀 部署

1. Fork仓库
2. 设置Secrets: `DEEPSEEK_API_KEY`, `FRED_API_KEY`
3. 启用GitHub Pages
4. Action每天自动运行
